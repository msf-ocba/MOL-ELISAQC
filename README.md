ELISAQC: EUROIMMUN ELISA kit results processor
================
05 January 2021

<!-- README.md is generated from README.Rmd. Please edit that file -->

## Overview:

This Shiny application has been created to process raw results for
[EUROIMMUN antibody detection ELISA
kits](https://www.euroimmun.com/products/infection-diagnostics/id/vaccine-preventable-diseases/)
frequently used in the diagnosis of measles and other
vaccine-preventable diseases. The application takes data generated by
the Biotek 800 TS [Gen5
software](https://www.biotek.com/products/software-robotics-software/gen5-microplate-reader-and-imager-software/)
(version 3.08.01). Results are calculated and interpreted according to
EUROIMMUN kit instructions and standards. Processed results, including
quality control flags and sample ID labels, are made available to
download as a .csv file which can then be imported or incorporated into
a patient database.

**Note:**

This application has been designed to be as user-friendly as possible.
The intended audience are laboratory technicians with no R or
programming experience, who may also have limited prior experience with
EUROIMMUN kits. For this reason, some attributes (such as what cells to
find the raw data in in Gen5 output) are hard-coded into the app. In
future versions, these attributes may be made editable for advanced
users. The structure of the input data will be prioritised for increased
user input as this would allow acceptance of input data from other
microplate readers or from future versions of Gen5 software.

## Details:

`ELISAQC` has been developed as a stand-alone Shiny App, which can be
launched off-line via a .bat file on the desktop (included in this
repository).

### User inputs:

1.  Position of calibrators, controls and sample IDs (via an interactive
    ELISA plate template)
2.  Raw optical densities (browser and up-loader for Gen5 output file in
    .csv format)
3.  EUROIMMUN kit batch reference values and ranges (via interactive
    dialogue box)
4.  EUROIMMUN kit ranges for interpretation of calculated results
5.  Optional in-house positive control acceptable range (as values or
    data upload)

This user-provided data (inputs 3 to 5) can optionally be saved as a
configuration file, which can then be uploaded and re-used for
subsequent runs with the same parameters.

### Data processing:

`ELISAQC` performs the following steps to process and interpret the
data:

  - Labels raw results with sample IDs as provided by the user in the
    first input step
  - Converts data from wide to long format (“tidy” data) for further
    processing
  - Calculates the sample:calibrator ratio for positive and negative
    controls and patient samples
  - Interprets the results for controls and patient samples as negative,
    indeterminate, or positive
  - Determines if positive and negative controls are within the kit
    reference range and applies a pass/fail flag
  - Determines if in-house positive controls are within range and
    applies a pass/fail flag (if provided)
  - Determines the coefficient of variation for control well duplicates
    and applies a pass/fail flag
  - Combines the three quality control flags to indicate if the run has
    passed overall or not

### Outputs:

`ELISAQC` provides the following outputs for the user:

  - heatmap of calculated results in plate layout with labels (to view
    in dashboard and downloadable image)
  - downloadable table of of sample results (including sample IDs and QC
    flags) as a .csv file
  - downloadable .csv configuration file (which can be edited and
    re-used for future runs)

**Note:**

The QC flags are also accompanied by an informative message interpreting
the likely cause of the problem (if they have failed), as follows:

  - **Positive control with ratio \< reference range:** run has failed,
    repeat
  - **Negative control with ratio \> reference range:** indicator of
    cross-contamination, check CVs
  - **Coefficients of variation \> accepted range:** indicator of
    cross-contamination or reader misalignment

It is assumed that under normal circumstances, users will run alignment
calibration checks on the ELISA reader prior to running a plate and not
proceed if these checks fail. In the event that equipment is being
tested in operational conditions, however, high coefficients of
well-to-well variation between duplicate samples can be a useful
indicator of the extent of impact of any alignment problems.

## Package dependencies:

The following R packages are used for the `ELISAQC` shiny app:

  - `shiny`
  - `rhandsontable`
  - `data.table`
  - `tidyr`
  - `ggplot2`

This list will be updated when initial development of the app is
complete. Key functions used by the app will be incorporated into an R
package with associated dependencies defined in the usual way.

## Updates

You can read about updates and changes to this app in the
**[news](https://github.com/msf-ocba/MOL/blob/master/CHANGELOG.md)**
page.

## Comments and suggestions:

This application is still in development; feedback is particularly
welcome. Please report any bugs, suggestions or feature requests as new
issues **[here](https://github.com/msf-ocba/MOL/issues)**, clearly
stating the name of the function you are referring to in the subject
title and tagging with an appropriate label.

## Contributing:

Contributions and submissions are welcome. These can be submitted to the
development branch of this project in the first instance via a merge
request. Please note that functions should meet the following criteria
to be eligible for submission:

  - The function should fit the **remit** of this package,
    i.e. processing ELISA results
  - New functions should complement existing functions
  - Alternatively, suggest enhancements to existing functions
  - Please provide as much detail as possible about your function
    including:
      - name and contact details of the author
      - references for any credits (e.g. StackOverflow, other
        contributors)
      - a concise description of the function’s purpose (avoid jargon)
      - details and caveates
      - a testable example
  - Please provide these details by using structured `Roxygen2` style
    annotation (see
    [here](http://kbroman.org/pkg_primer/pages/docs.html) for examples)
  - Please **do not** include any sensitive data (usernames, passwords,
    personal identifying information) in your functions.

Please refer to the **[contribution
guide](https://github.com/msf-ocba/MOL/blob/master/CONTRIBUTING.md)**
for further details.

## Maintainer:

This project is currently being maintained by:

[Amy Mikhail](mailto:Amy.Mikhail@barcelona.msf.org)

Mobile Outbreak Laboratory

Transformational Investment Capacity (TIC) project

Médecins Sans Frontières - OCBA
